//***############################################****
//   CRON CONFIGURATION TASK
//   SQOOP IMPORT AND EXPORT
//***############################################****

BATCH_SCRIPT_LAUNCHER = "/usr/hdp/current/spark2-client/bin/spark-submit"
STREAMING_SCRIPT_LAUNCHER = "/usr/hdp/current/spark2-client/bin/spark-submit"
SH_SCRIPT_LAUNCHER = "/bin/sh"
HIVE_SCRIPT_LAUNCHER = "/bin/sh"
PIG_SCRIPT_LAUNCHER = "/bin/sh"
SQOOP_LAUNCHER="/bin/sh"

env = "prod"

////--###**************************************#####---
////--###        SQOOP EXPORT FT & FTA
////--###**************************************#####---

// // EXPORT FT-AG_INTERCO
crontasks +=
  {
    instanceId = "SQ_EXPORT_FT_AG_INTERCO",
    cron = "0 40 */2 * * ?",
    configFile = "/PROD/CONF/SQOOP/sqoop-export-ft-ag-interco.conf",
    taskType = "SQOOP"
    taskLauncher = ${SQOOP_LAUNCHER}
    timeout = "30 minutes"
    extraTaskParams : [
      {"param" : "/opt/app/cronmanager/bin/cronmanager -J-Xmx512m"}
      , {"param" : "-main cm.orange.processor.SqoopLauncher"}
      , {"param" : "-Dmapreduce.map.java.opts='-Duser.timezone=UTC'"}
    ]
  }

// // EXPORT FT-ACCOUNT_ACTIVITY
crontasks +=
  {
    instanceId = "SQ_EXPORT_FT_ACCOUNT_ACTIVITY",
    cron = "0 40 */4 * * ?",
    configFile = "PROD/CONF/SQOOP/sqoop-export-spark-ft-account-activity.conf",
    taskType = "SQOOP"
    taskLauncher = ${SQOOP_LAUNCHER}
    timeout = "30 minutes"
    extraTaskParams : [
      {"param" : "/opt/app/cronmanager/bin/cronmanager -J-Xmx512m"}
      , {"param" : "-main cm.orange.processor.SqoopLauncher"}
      , {"param" : "-Dmapreduce.map.java.opts='-Duser.timezone=UTC'"}
    ]
  }

  // // EXPORT ft-gsm-traffic-revenue-daily
crontasks +=
  {
    instanceId = "SQ_EXPORT_FT_GSM_TRAFFIC_REVENUE_DAILY",
    cron = "0 35 */4 * * ?",
    configFile = "/PROD/CONF/SQOOP/sqoop-export-ft-gsm-traffic-revenue-daily.conf",
    taskType = "SQOOP"
    taskLauncher = ${SQOOP_LAUNCHER}
    timeout = "30 minutes"
    extraTaskParams : [
      {"param" : "/opt/app/cronmanager/bin/cronmanager -J-Xmx512m"}
      , {"param" : "-main cm.orange.processor.SqoopLauncher"}
      , {"param" : "-Dmapreduce.map.java.opts='-Duser.timezone=UTC'"}
    ]
  }

  // // EXPORT ft-gsm-traffic-revenue-post
crontasks +=
  {
    instanceId = "SQ_EXPORT_FT_GSM_TRAFFIC_REVENUE_POST",
    cron = "0 30 */4 * * ?",
    configFile = "/PROD/CONF/SQOOP/sqoop-export-ft-gsm-traffic-revenue-post.conf",
    taskType = "SQOOP"
    taskLauncher = ${SQOOP_LAUNCHER}
    timeout = "30 minutes"
    extraTaskParams : [
      {"param" : "/opt/app/cronmanager/bin/cronmanager -J-Xmx512m"}
      , {"param" : "-main cm.orange.processor.SqoopLauncher"}
      , {"param" : "-Dmapreduce.map.java.opts='-Duser.timezone=UTC'"}
    ]
  }

  // // EXPORT sqoop-export-ft-x-interco-final
crontasks +=
  {
    instanceId = "SQ_EXPORT_FT_X_INTERCO_FINAL",
    cron = "0 50 */4 * * ?",
    configFile = "/PROD/CONF/SQOOP/sqoop-export-ft-x-interco-final.conf",
    taskType = "SQOOP"
    taskLauncher = ${SQOOP_LAUNCHER}
    timeout = "30 minutes"
    extraTaskParams : [
      {"param" : "/opt/app/cronmanager/bin/cronmanager -J-Xmx512m"}
      , {"param" : "-main cm.orange.processor.SqoopLauncher"}
      , {"param" : "-Dmapreduce.map.java.opts='-Duser.timezone=UTC'"}
    ]
  }

  // // EXPORT sqoop-export-spark-fta-data-transfer
crontasks +=
  {
    instanceId = "SQ_EXPORT_SPARK_FT_A_DATA_TRANSFER",
    cron = "0 50 */2 * * ?",
    configFile = "/PROD/CONF/SQOOP/sqoop-export-spark-fta-data-transfer.conf",
    taskType = "SQOOP"
    taskLauncher = ${SQOOP_LAUNCHER}
    timeout = "30 minutes"
    extraTaskParams : [
      {"param" : "/opt/app/cronmanager/bin/cronmanager -J-Xmx512m"}
      , {"param" : "-main cm.orange.processor.SqoopLauncher"}
      , {"param" : "-Dmapreduce.map.java.opts='-Duser.timezone=UTC'"}
    ]
  }


// // EXPORT SPARK_FT_A_GPRS_ACTIVITY_POST
crontasks +=
  {
    instanceId = "SQ_EXPORT_SPARK_FT_A_GPRS_ACTIVITY_POST",
    cron = "0 40 */4 * * ?",
    configFile = "/PROD/CONF/SQOOP/sqoop-export-spark-fta-gprs-activity-post.conf",
    taskType = "SQOOP"
    taskLauncher = ${SQOOP_LAUNCHER}
    timeout = "30 minutes"
    extraTaskParams : [
      {"param" : "/opt/app/cronmanager/bin/cronmanager -J-Xmx512m"}
      , {"param" : "-main cm.orange.processor.SqoopLauncher"}
      , {"param" : "-Dmapreduce.map.java.opts='-Duser.timezone=UTC'"}
    ]
  }

// // SPARK_FT_A_GPRS_ACTIVITY
crontasks +=
  {
    instanceId = "SQ_EXPORT_SPARK_FT_A_GPRS_ACTIVITY",
    cron = "0 30 */4 * * ?",
    configFile = "/PROD/CONF/SQOOP/sqoop-export-spark-fta-gprs-activity.conf",
    taskType = "SQOOP"
    taskLauncher = ${SQOOP_LAUNCHER}
    timeout = "30 minutes"
    extraTaskParams : [
      {"param" : "/opt/app/cronmanager/bin/cronmanager -J-Xmx512m"}
      , {"param" : "-main cm.orange.processor.SqoopLauncher"}
    ]
  }

// // EXPORT FT_A_GPRS_ACTIVITY
crontasks +=
  {
    instanceId = "SQ_SPARK_EXPORT_FT_A_GPRS_ACTIVITY",
    cron = "0 35 */4 * * ?",
    configFile = "/PROD/CONF/SQOOP/sqoop-export-spark-fta-gprs-activity.conf",
    taskType = "SQOOP"
    taskLauncher = ${SQOOP_LAUNCHER}
    timeout = "30 minutes"
    extraTaskParams : [
      {"param" : "/opt/app/cronmanager/bin/cronmanager -J-Xmx512m"}
      , {"param" : "-main cm.orange.processor.SqoopLauncher"}
      , {"param" : "-Dmapreduce.map.java.opts='-Duser.timezone=UTC'"}
    ]
  }


// // EXPORT SPARK_FT_A_SUBSCRIPTION
crontasks +=
  {
    instanceId = "SQ_EXPORT_SPARK_FT_A_SUBSCRIPTION",
    cron = "0 30 */4 * * ?",
    configFile = "/PROD/CONF/SQOOP/sqoop-export-spark-fta-subscription.conf",
    taskType = "SQOOP"
    taskLauncher = ${SQOOP_LAUNCHER}
    timeout = "30 minutes"
    extraTaskParams : [
      {"param" : "/opt/app/cronmanager/bin/cronmanager -J-Xmx512m"}
      , {"param" : "-main cm.orange.processor.SqoopLauncher"}
      , {"param" : "-Dmapreduce.map.java.opts='-Duser.timezone=UTC'"}
    ]
  }

// // EXPORT FT_QOS_SMSC_SPECIAL_NUMBER
crontasks +=
  {
    instanceId = "SQ_EXPORT_FT_QOS_SMSC_SPECIAL",
    cron = "0 30 */4 * * ?",
    configFile = "/PROD/CONF/SQOOP/sqoop-export-ft-qos-smsc-special-number.conf",
    taskType = "SQOOP"
    taskLauncher = ${SQOOP_LAUNCHER}
    timeout = "30 minutes"
    extraTaskParams : [
      {"param" : "/opt/app/cronmanager/bin/cronmanager -J-Xmx512m"}
      , {"param" : "-main cm.orange.processor.SqoopLauncher"}
      , {"param" : "-Dmapreduce.map.java.opts='-Duser.timezone=UTC'"}
    ]
  }


// //  SQ_EXPORT_FT_GLOBAL_ACTIVITY_DAILY
crontasks +=
  {
    instanceId = "SQ_EXPORT_SPARK_FT_GLOBAL_ACTIVITY_DAILY",
    cron = "0 30 */4 * * ?",
    configFile = "/PROD/CONF/SQOOP/sqoop-export-spark-ft-global-activity-daily.conf",
    taskType = "SQOOP"
    taskLauncher = ${SQOOP_LAUNCHER}
    timeout = "60 minutes"
    extraTaskParams : [
      {"param" : "/opt/app/cronmanager/bin/cronmanager -J-Xmx512m"}
      , {"param" : "-main cm.orange.processor.SqoopLauncher"}
      , {"param" : "-Dmapreduce.map.java.opts='-Duser.timezone=UTC'"}
    ]
  }

// // EXPORT sqoop-export-fta-appels-cti-count
crontasks +=
  {
    instanceId = "SQ_EXPORT_FT_A_APPELS_CTI_COUNT",
    cron = "0 */10 * * * ?",
    configFile = "/PROD/CONF/SQOOP/sqoop-export-fta-appels-cti-count.conf",
    taskType = "SQOOP"
    taskLauncher = ${SQOOP_LAUNCHER}
    timeout = "60 minutes"
    extraTaskParams : [
      {"param" : "/opt/app/cronmanager/bin/cronmanager -J-Xmx512m"}
      , {"param" : "-main cm.orange.processor.SqoopLauncher"}
      , {"param" : "-Dmapreduce.map.java.opts='-Duser.timezone=UTC'"}
    ]
  }

// // EXPORT sqoop-export-fta-appels-cti
crontasks +=
  {
    instanceId = "SQ_EXPORT_FT_A_APPELS_CTI",
    cron = "0 */10 * * * ?",
    configFile = "/PROD/CONF/SQOOP/sqoop-export-fta-appels-cti.conf",
    taskType = "SQOOP"
    taskLauncher = ${SQOOP_LAUNCHER}
    timeout = "60 minutes"
    extraTaskParams : [
      {"param" : "/opt/app/cronmanager/bin/cronmanager -J-Xmx512m"}
      , {"param" : "-main cm.orange.processor.SqoopLauncher"}
      , {"param" : "-Dmapreduce.map.java.opts='-Duser.timezone=UTC'"}
    ]
  }

//  EXPORT sqoop-export-spark-fta-msisdn-recyclage.conf
crontasks +=
  {
    instanceId = "SQ_EXPORT_SPARK_FT_A_MSISDN_RECYCLAGE",
    cron = "0 55 */4 * * ?",
    configFile = "/PROD/CONF/SQOOP/sqoop-export-spark-fta-msisdn-recyclage.conf",
    taskType = "SQOOP"
    taskLauncher = ${SQOOP_LAUNCHER}
    timeout = "60 minutes"
    extraTaskParams : [
      {"param" : "/opt/app/cronmanager/bin/cronmanager -J-Xmx512m"}
      , {"param" : "-main cm.orange.processor.SqoopLauncher"}
      , {"param" : "-Dmapreduce.map.java.opts='-Duser.timezone=UTC'"}
    ]
  }

//  EXPORT sqoop-export-spark-ft-marketing-datamart.conf
crontasks +=
  {
    instanceId = "SQ_EXPORT_SPARK_FT_MARKETING_DATAMART",
    cron = "0 45 */2 * * ?",
    configFile = "/PROD/CONF/SQOOP/sqoop-export-spark-ft-marketing-datamart.conf",
    taskType = "SQOOP"
    taskLauncher = ${SQOOP_LAUNCHER}
    timeout = "240 minutes"
    extraTaskParams : [
      {"param" : "/opt/app/cronmanager/bin/cronmanager -J-Xmx512m"}
      , {"param" : "-main cm.orange.processor.SqoopLauncher"}
      , {"param" : "-Dmapreduce.map.java.opts='-Duser.timezone=UTC'"}
    ]
  }


crontasks +=
  {
    instanceId = "SQ_EXPORT_SPARK_FT_MARKETING_DATAMART_MONTH",
    cron = "0 5 */2 1-5 * ?",
    configFile = "/PROD/CONF/SQOOP/sqoop-export-spark-ft-marketing-datamart-month.conf",
    taskType = "SQOOP"
    taskLauncher = ${SQOOP_LAUNCHER}
    timeout = "240 minutes"
    extraTaskParams : [
      {"param" : "/opt/app/cronmanager/bin/cronmanager -J-Xmx512m"}
      , {"param" : "-main cm.orange.processor.SqoopLauncher"}
      , {"param" : "-Dmapreduce.map.java.opts='-Duser.timezone=UTC'"}
    ]
  }

crontasks +=
  {
    instanceId = "SQ_EXPORT_SPARK_FT_CLIENT_LAST_SITE_DAY",
    cron = "0 10 */2 * * ?",
    configFile = "/PROD/CONF/SQOOP/sqoop-export-spark-ft-client-last-site-day.conf",
    taskType = "SQOOP"
    taskLauncher = ${SQOOP_LAUNCHER}
    timeout = "60 minutes"
    extraTaskParams : [
      {"param" : "/opt/app/cronmanager/bin/cronmanager -J-Xmx512m"}
      , {"param" : "-main cm.orange.processor.SqoopLauncher"}
      , {"param" : "-Dmapreduce.map.java.opts='-Duser.timezone=UTC'"}
    ]
  }


crontasks +=
  {
    instanceId = "SQ_EXPORT_SPARK_FT_CONTRACT_SNAPSHOT",
    cron = "0 15 */2 * * ?",
    configFile = "/PROD/CONF/SQOOP/sqoop-export-ft-contract-snapshot.conf",
    taskType = "SQOOP"
    taskLauncher = ${SQOOP_LAUNCHER}
    timeout = "60 minutes"
    extraTaskParams : [
      {"param" : "/opt/app/cronmanager/bin/cronmanager -J-Xmx512m"}
      , {"param" : "-main cm.orange.processor.SqoopLauncher"}
      , {"param" : "-Dmapreduce.map.java.opts='-Duser.timezone=UTC'"}
    ]
  }


crontasks +=
  {
    instanceId = "SQ_EXPORT_FT_A_DATA_TRANSFER",
    cron = "0 20 */2 * * ?",
    configFile = "/PROD/CONF/SQOOP/sqoop-export-fta-data-transfer.conf",
    taskType = "SQOOP"
    taskLauncher = ${SQOOP_LAUNCHER}
    timeout = "60 minutes"
    extraTaskParams : [
      {"param" : "/opt/app/cronmanager/bin/cronmanager -J-Xmx512m"}
      , {"param" : "-main cm.orange.processor.SqoopLauncher"}
      , {"param" : "-Dmapreduce.map.java.opts='-Duser.timezone=UTC'"}
    ]
  }


crontasks +=
  {
    instanceId = "SQ_EXPORT_FT_A_GPRS_ACTIVITY",
    cron = "0 25 */2 * * ?",
    configFile = "/PROD/CONF/SQOOP/sqoop-export-fta-gprs-activity.conf",
    taskType = "SQOOP"
    taskLauncher = ${SQOOP_LAUNCHER}
    timeout = "60 minutes"
    extraTaskParams : [
      {"param" : "/opt/app/cronmanager/bin/cronmanager -J-Xmx512m"}
      , {"param" : "-main cm.orange.processor.SqoopLauncher"}
      , {"param" : "-Dmapreduce.map.java.opts='-Duser.timezone=UTC'"}
    ]
  }


crontasks +=
  {
    instanceId = "SQ_EXPORT_FT_A_GPRS_ACTIVITY_POST",
    cron = "0 30 */2 * * ?",
    configFile = "/PROD/CONF/SQOOP/sqoop-export-fta-gprs-activity-post.conf",
    taskType = "SQOOP"
    taskLauncher = ${SQOOP_LAUNCHER}
    timeout = "60 minutes"
    extraTaskParams : [
      {"param" : "/opt/app/cronmanager/bin/cronmanager -J-Xmx512m"}
      , {"param" : "-main cm.orange.processor.SqoopLauncher"}
      , {"param" : "-Dmapreduce.map.java.opts='-Duser.timezone=UTC'"}
    ]
  }


crontasks +=
  {
    instanceId = "SQ_EXPORT_FT_A_SUBSCRIPTION",
    cron = "0 35 */2 * * ?",
    configFile = "/PROD/CONF/SQOOP/sqoop-export-fta-subscription.conf",
    taskType = "SQOOP"
    taskLauncher = ${SQOOP_LAUNCHER}
    timeout = "60 minutes"
    extraTaskParams : [
      {"param" : "/opt/app/cronmanager/bin/cronmanager -J-Xmx512m"}
      , {"param" : "-main cm.orange.processor.SqoopLauncher"}
      , {"param" : "-Dmapreduce.map.java.opts='-Duser.timezone=UTC'"}
    ]
  }


crontasks +=
  {
    instanceId = "SQ_EXPORT_SPARK_FT_A_SUBSCRIBER_SUMMARY",
    cron = "0 35 */2 * * ?",
    configFile = "/PROD/CONF/SQOOP/sqoop-export-spark-ft-a-subscriber-summary.conf",
    taskType = "SQOOP"
    taskLauncher = ${SQOOP_LAUNCHER}
    timeout = "60 minutes"
    extraTaskParams : [
      {"param" : "/opt/app/cronmanager/bin/cronmanager -J-Xmx512m"}
      , {"param" : "-main cm.orange.processor.SqoopLauncher"}
      , {"param" : "-Dmapreduce.map.java.opts='-Duser.timezone=UTC'"}
    ]
  }

crontasks +=
  {
    instanceId = "SQ_EXPORT_SPARK_FT_COMMERCIAL_SUBSCRIB_SUMMARY",
    cron = "0 35 */2 * * ?",
    configFile = "/PROD/CONF/SQOOP/sqoop-export-spark-ft-commercial-subscrib-summary.conf",
    taskType = "SQOOP"
    taskLauncher = ${SQOOP_LAUNCHER}
    timeout = "60 minutes"
    extraTaskParams : [
      {"param" : "/opt/app/cronmanager/bin/cronmanager -J-Xmx512m"}
      , {"param" : "-main cm.orange.processor.SqoopLauncher"}
      , {"param" : "-Dmapreduce.map.java.opts='-Duser.timezone=UTC'"}
    ]
  }

crontasks +=
  {
    instanceId = "SQ_EXPORT_SPARK_FT_GROUP_SUBSCRIBER_SUMMARY",
    cron = "0 35 */2 * * ?",
    configFile = "/PROD/CONF/SQOOP/sqoop-export-spark-ft-group-subscriber-summary.conf",
    taskType = "SQOOP"
    taskLauncher = ${SQOOP_LAUNCHER}
    timeout = "60 minutes"
    extraTaskParams : [
      {"param" : "/opt/app/cronmanager/bin/cronmanager -J-Xmx512m"}
      , {"param" : "-main cm.orange.processor.SqoopLauncher"}
      , {"param" : "-Dmapreduce.map.java.opts='-Duser.timezone=UTC'"}
    ]
  }