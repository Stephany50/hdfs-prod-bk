BATCH_SCRIPT_LAUNCHER = "/usr/hdp/current/spark2-client/bin/spark-submit"
STREAMING_SCRIPT_LAUNCHER = "/usr/hdp/current/spark2-client/bin/spark-submit"
SH_SCRIPT_LAUNCHER = "/bin/sh"
HIVE_SCRIPT_LAUNCHER = "/bin/sh"
PIG_SCRIPT_LAUNCHER = "/bin/sh"

env = "prod"

/////////////////////////////////////////////////////
//                   CDR IN                        //
////////////////////////////////////////////////////

// Chargement de IN ZTE DATA PREPAID
crontasks +=
  {
    instanceId = "LOAD_IT_DATA",
    cron = "0 */15 * * * ?",
    configFile = "/PROD/CONF/IN_ZTE/IT/load-it-data.conf",
    taskType = "HIVE"
    taskLauncher = ${HIVE_SCRIPT_LAUNCHER}
    timeout = "120 minutes"
    extraTaskParams : [
      {"param" : "/opt/app/cronmanager/bin/cronmanager"}
      , {"param" : "-main cm.orange.processor.HiveScriptLauncher"}
    ]
  }

// Chargement de IN ZTE VOICE SMS PREPAID
crontasks +=
  {
    instanceId = "LOAD_IT_VOICE_SMS",
    cron = "0 */15 * * * ?",
    configFile = "/PROD/CONF/IN_ZTE/IT/load-it-voice_sms.conf",
    taskType = "HIVE"
    taskLauncher = ${HIVE_SCRIPT_LAUNCHER}
    timeout = "120 minutes"
    extraTaskParams : [
      {"param" : "/opt/app/cronmanager/bin/cronmanager"}
      , {"param" : "-main cm.orange.processor.HiveScriptLauncher"}
    ]
  }

// Chargement de IN ZTE SUBSCRIPTION
crontasks +=
  {
    instanceId = "LOAD_IT_SUBSCRIPTION",
    cron = "0 */15 * * * ?",
    configFile = "/PROD/CONF/IN_ZTE/IT/load-it-subscription.conf",
    taskType = "HIVE"
    taskLauncher = ${HIVE_SCRIPT_LAUNCHER}
    timeout = "30 minutes"
    extraTaskParams : [
      {"param" : "/opt/app/cronmanager/bin/cronmanager"}
      , {"param" : "-main cm.orange.processor.HiveScriptLauncher"}
    ]
  }
/////////////////////////////////////////////////////
//                CHECK FILES IN                   //
////////////////////////////////////////////////////

// Chargement de IN ZTE CHECK FILES HORAIRES
crontasks +=
  {
    instanceId = "LOAD_IT_ZTE_CHECK_FILE",
    cron = "0 */15 * * * ?",
    configFile = "/PROD/CONF/IN_ZTE/IT/load-it-zte-check_file.conf",
    taskType = "HIVE"
    taskLauncher = ${HIVE_SCRIPT_LAUNCHER}
    timeout = "30 minutes"
    extraTaskParams : [
      {"param" : "/opt/app/cronmanager/bin/cronmanager"}
      , {"param" : "-main cm.orange.processor.HiveScriptLauncher"}
    ]
  }

// Chargement de IN ZTE CHECK FILES ALL
crontasks +=
  {
    instanceId = "LOAD_IT_ZTE_CHECK_FILE_ALL",
    cron = "0 */15 * * * ?",
    configFile = "/PROD/CONF/IN_ZTE/IT/load-it-zte-check_file_all.conf",
    taskType = "HIVE"
    taskLauncher = ${HIVE_SCRIPT_LAUNCHER}
    timeout = "30 minutes"
    extraTaskParams : [
      {"param" : "/opt/app/cronmanager/bin/cronmanager"}
      , {"param" : "-main cm.orange.processor.HiveScriptLauncher"}
    ]
  }
/////////////////////////////////////////////////////
//                 EXTRACT IN                      //
////////////////////////////////////////////////////

// Chargement de IN ZTE EXTRACT PROD SPEC
crontasks +=
  {
    instanceId = "LOAD_IT_ZTE_PROD_SPEC_EXTRACT",
    cron = "0 0 */1 * * ?",
    configFile = "/PROD/CONF/IN_ZTE/IT/load-it-zte-prod-spec-extract.conf",
    taskType = "HIVE"
    taskLauncher = ${HIVE_SCRIPT_LAUNCHER}
    timeout = "10 minutes"
    extraTaskParams : [
      {"param" : "/opt/app/cronmanager/bin/cronmanager"}
      , {"param" : "-main cm.orange.processor.HiveScriptLauncher"}
    ]
  }

// Chargement de IN ZTE EXTRACT PRICE PLAN
crontasks +=
  {
    instanceId = "LOAD_IT_ZTE_PRICE_PLAN_EXTRACT",
    cron = "0 0 */1 * * ?",
    configFile = "/PROD/CONF/IN_ZTE/IT/load-it-zte-price-plan-extract.conf",
    taskType = "HIVE"
    taskLauncher = ${HIVE_SCRIPT_LAUNCHER}
    timeout = "10 minutes"
    extraTaskParams : [
      {"param" : "/opt/app/cronmanager/bin/cronmanager"}
      , {"param" : "-main cm.orange.processor.HiveScriptLauncher"}
    ]
  }

// Chargement de IN ZTE EXTRACT ACC NBR
crontasks +=
  {
    instanceId = "LOAD_IT_ZTE_ACC_NBR_EXTRACT",
    cron = "0 0 */1 * * ?",
    configFile = "/PROD/CONF/IN_ZTE/IT/load-it-zte-acc-nbr-extract.conf",
    taskType = "HIVE"
    taskLauncher = ${HIVE_SCRIPT_LAUNCHER}
    timeout = "120 minutes"
    extraTaskParams : [
      {"param" : "/opt/app/cronmanager/bin/cronmanager"}
      , {"param" : "-main cm.orange.processor.HiveScriptLauncher"}
    ]
  }

// Chargement de IN ZTE EXTRACT ACCT
crontasks +=
  {
    instanceId = "LOAD_IT_ZTE_ACCT_EXTRACT",
    cron = "0 0 */1 * * ?",
    configFile = "/PROD/CONF/IN_ZTE/IT/load-it-zte-acct-extract.conf",
    taskType = "HIVE"
    taskLauncher = ${HIVE_SCRIPT_LAUNCHER}
    timeout = "120 minutes"
    extraTaskParams : [
      {"param" : "/opt/app/cronmanager/bin/cronmanager"}
      , {"param" : "-main cm.orange.processor.HiveScriptLauncher"}
    ]
  }

// Chargement de IN ZTE EXTRACT BAL
crontasks +=
  {
    instanceId = "LOAD_IT_ZTE_BAL_EXTRACT",
    cron = "0 0 */1 * * ?",
    configFile = "/PROD/CONF/IN_ZTE/IT/load-it-zte-bal-extract.conf",
    taskType = "HIVE"
    taskLauncher = ${HIVE_SCRIPT_LAUNCHER}
    timeout = "120 minutes"
    extraTaskParams : [
      {"param" : "/opt/app/cronmanager/bin/cronmanager"}
      , {"param" : "-main cm.orange.processor.HiveScriptLauncher"}
    ]
  }

// Chargement de IN ZTE EXTRACT CUST
crontasks +=
  {
    instanceId = "LOAD_IT_ZTE_CUST_EXTRACT",
    cron = "0 0 */1 * * ?",
    configFile = "/PROD/CONF/IN_ZTE/IT/load-it-zte-cust-extract.conf",
    taskType = "HIVE"
    taskLauncher = ${HIVE_SCRIPT_LAUNCHER}
    timeout = "120 minutes"
    extraTaskParams : [
      {"param" : "/opt/app/cronmanager/bin/cronmanager"}
      , {"param" : "-main cm.orange.processor.HiveScriptLauncher"}
    ]
  }

// Chargement de IN ZTE EXTRACT PROD
crontasks +=
  {
    instanceId = "LOAD_IT_ZTE_PROD_EXTRACT",
    cron = "0 0 */1 * * ?",
    configFile = "/PROD/CONF/IN_ZTE/IT/load-it-zte-prod-extract.conf",
    taskType = "HIVE"
    taskLauncher = ${HIVE_SCRIPT_LAUNCHER}
    timeout = "120 minutes"
    extraTaskParams : [
      {"param" : "/opt/app/cronmanager/bin/cronmanager"}
      , {"param" : "-main cm.orange.processor.HiveScriptLauncher"}
    ]
  }

// Chargement de IN ZTE EXTRACT SUBS
crontasks +=
  {
    instanceId = "LOAD_IT_ZTE_SUBS_EXTRACT",
    cron = "0 0 */1 * * ?",
    configFile = "/PROD/CONF/IN_ZTE/IT/load-it-zte-subs-extract.conf",
    taskType = "HIVE"
    taskLauncher = ${HIVE_SCRIPT_LAUNCHER}
    timeout = "120 minutes"
    extraTaskParams : [
      {"param" : "/opt/app/cronmanager/bin/cronmanager"}
      , {"param" : "-main cm.orange.processor.HiveScriptLauncher"}
    ]
  }

/////////////////////////////////////////////////////
//              Orange Money                       //
////////////////////////////////////////////////////

// Chargement de l'IT OM TRANSACTIONS
crontasks +=
  {
    instanceId = "LOAD_IT_OM_TRANSACTIONS",
    cron = "0 0 */1 * * ?",
    configFile = "/PROD/CONF/OM/load-it-om-transactions.conf",
    taskType = "HIVE"
    taskLauncher = ${HIVE_SCRIPT_LAUNCHER}
    timeout = "20 minutes"
    extraTaskParams : [
      {"param" : "/opt/app/cronmanager/bin/cronmanager"}
      , {"param" : "-main cm.orange.processor.HiveScriptLauncher"}
    ]
  }
// Chargement de l'IT OM APGL
crontasks +=
  {
    instanceId = "LOAD_IT_OM_APGL",
    cron = "0 0 */1 * * ?",
    configFile = "/PROD/CONF/OM/load-it-om-apgl.conf",
    taskType = "HIVE"
    taskLauncher = ${HIVE_SCRIPT_LAUNCHER}
    timeout = "20 minutes"
    extraTaskParams : [
      {"param" : "/opt/app/cronmanager/bin/cronmanager"}
      , {"param" : "-main cm.orange.processor.HiveScriptLauncher"}
    ]
  }
// Chargement de l'IT OM ALL BALANCE
crontasks +=
  {
    instanceId = "LOAD_IT_OM_ALL_BALANCE",
    cron = "0 0 */1 * * ?",
    configFile = "/PROD/CONF/OM/load-it-om-all-balance.conf",
    taskType = "HIVE"
    taskLauncher = ${HIVE_SCRIPT_LAUNCHER}
    timeout = "20 minutes"
    extraTaskParams : [
      {"param" : "/opt/app/cronmanager/bin/cronmanager"}
      , {"param" : "-main cm.orange.processor.HiveScriptLauncher"}
    ]
  }
// Chargement de l'IT OM COMMISSIONS
crontasks +=
  {
    instanceId = "LOAD_IT_OM_COMMISSIONS",
    cron = "0 0 */1 * * ?",
    configFile = "/PROD/CONF/OM/load-it-om-commissions.conf",
    taskType = "HIVE"
    taskLauncher = ${HIVE_SCRIPT_LAUNCHER}
    timeout = "20 minutes"
    extraTaskParams : [
      {"param" : "/opt/app/cronmanager/bin/cronmanager"}
      , {"param" : "-main cm.orange.processor.HiveScriptLauncher"}
    ]
  }
// Chargement de l'IT OM SERVICES CHARGES
crontasks +=
  {
    instanceId = "LOAD_IT_OM_SERVICES_CHARGES",
    cron = "0 0 */1 * * ?",
    configFile = "/PROD/CONF/OM/load-it-om-services-charges.conf",
    taskType = "HIVE"
    taskLauncher = ${HIVE_SCRIPT_LAUNCHER}
    timeout = "20 minutes"
    extraTaskParams : [
      {"param" : "/opt/app/cronmanager/bin/cronmanager"}
      , {"param" : "-main cm.orange.processor.HiveScriptLauncher"}
    ]
  }
// Chargement de l'IT OM SUBSCRIBER
crontasks +=
  {
    instanceId = "LOAD_IT_OM_SUBSCRIBERS",
    cron = "0 0 */1 * * ?",
    configFile = "/PROD/CONF/OM/load-it-om-subscribers.conf",
    taskType = "HIVE"
    taskLauncher = ${HIVE_SCRIPT_LAUNCHER}
    timeout = "20 minutes"
    extraTaskParams : [
      {"param" : "/opt/app/cronmanager/bin/cronmanager"}
      , {"param" : "-main cm.orange.processor.HiveScriptLauncher"}
    ]
  }

//crontasks +=
//  {
//    instanceId = "ARCH_ZTE",
//    cron = "0 0 */1 * * ?",
//    configFile = "/PROD/CONF/IN_ZTE/arch-in-zte.conf",
//    taskType = "PIG"
//    taskLauncher = ${PIG_SCRIPT_LAUNCHER}
//    timeout = "60 minutes"
//    extraTaskParams : [
//      {"param" : "/opt/app/cronmanager/bin/cronmanager"}
//      , {"param" : "-main cm.orange.processor.PigScriptLauncher"}
//    ]
//  }
//crontasks +=
//  {
//    instanceId = "LOAD_NIFI_LOGS",
//    cron = "0 */15 * * * ?",
//    configFile = "/PROD/CONF/NIFI_LOGS/load-it-log.conf",
//    taskType = "HIVE"
//    taskLauncher = ${HIVE_SCRIPT_LAUNCHER}
//    timeout = "10 minutes"
//    extraTaskParams : [
//      {"param" : "/opt/app/cronmanager/bin/cronmanager"}
//      , {"param" : "-main cm.orange.processor.HiveScriptLauncher"}
//    ]
//  }
//crontasks +=
//  {
//    instanceId = "ARCH_LOGS",
//    cron = "0 0 1 * * ?",
//    configFile = "/PROD/CONF/NIFI_LOGS/arch-logs.conf",
//    taskType = "PIG"
//    taskLauncher = ${PIG_SCRIPT_LAUNCHER}
//    timeout = "60 minutes"
//    extraTaskParams : [
//      {"param" : "/opt/app/cronmanager/bin/cronmanager"}
//      , {"param" : "-main cm.orange.processor.PigScriptLauncher"}
//    ]
//  }



// // CALCUL DES FICHIERS MANQUANTS
crontasks +=
  {
    instanceId = "COMPUTE_MISSING_FILES",
    cron = "0 0 7 * * ?",
    configFile = "/PROD/CONF/compute_missing_files.conf",
    taskType = "HIVE"
    taskLauncher = ${HIVE_SCRIPT_LAUNCHER}
       timeout = "30 minutes"
       extraTaskParams : [
         {"param" : "/opt/app/cronmanager/bin/cronmanager"}
         , {"param" : "-main cm.orange.processor.HiveScriptLauncher"}
       ]
  }